[gd_scene format=4 uid="uid://dy0qtiis24i8l"]

[ext_resource type="PackedScene" uid="uid://c0wgpf30k3hu4" path="res://scenes/entities/player/player.tscn" id="1_6312j"]
[ext_resource type="Script" uid="uid://b0jkkcb77kcfm" path="res://scripts/core/LevelManager.cs" id="1_brv2t"]
[ext_resource type="PackedScene" uid="uid://drbvjh7pbk6k7" path="res://scenes/ui/selector/tile_selector.tscn" id="2_8hc5g"]
[ext_resource type="PackedScene" uid="uid://70nlbfro38uw" path="res://scenes/environtments/map_manager.tscn" id="2_ybdc1"]
[ext_resource type="PackedScene" uid="uid://d1rokv21p7rhx" path="res://scenes/entities/enemies/enemy.tscn" id="3_3ulyp"]
[ext_resource type="Resource" uid="uid://berh6rqwpwj4v" path="res://resources/commands/playermovelist/punch.tres" id="4_84bhp"]
[ext_resource type="Script" uid="uid://snokpjpkfuts" path="res://scripts/core/battle/TurnManager.cs" id="4_q46b8"]
[ext_resource type="PackedScene" uid="uid://8ta2vd0iv23n" path="res://scenes/ui/battle_hud.tscn" id="5_43vid"]
[ext_resource type="Script" uid="uid://bj6h3te0qhxb4" path="res://scripts/core/battle/PlayerSkill.cs" id="5_jtcbb"]
[ext_resource type="Script" uid="uid://b4ofm18pb8w1g" path="res://scripts/core/AreaTracker.cs" id="6_8hc5g"]
[ext_resource type="PackedScene" uid="uid://qo415ne0pan2" path="res://scenes/levels/locked_area.tscn" id="6_fiowe"]
[ext_resource type="PackedScene" uid="uid://cyavq5oxx5wtp" path="res://scenes/entities/projectile.tscn" id="7_jtcbb"]
[ext_resource type="Script" uid="uid://c556nbxe4u3h7" path="res://scripts/core/battle/EnemyAIProfile.cs" id="9_iusvx"]
[ext_resource type="Script" uid="uid://ddqwc7dhlg7n3" path="res://scripts/core/battle/TargetingProfile.cs" id="10_p61ap"]
[ext_resource type="Script" uid="uid://b6mw2ys38apry" path="res://scripts/core/battle/SpeedBonusProfile.cs" id="11_df41j"]

[sub_resource type="Resource" id="Resource_x7kll"]
script = ExtResource("5_jtcbb")
CommandName = "slash"
AttackType = 1
metadata/_custom_type_script = "uid://bj6h3te0qhxb4"

[sub_resource type="Resource" id="Resource_3jqmn"]
script = ExtResource("5_jtcbb")
CommandName = "arrow"
AttackType = 2
ProjectileScene = ExtResource("7_jtcbb")
metadata/_custom_type_script = "uid://bj6h3te0qhxb4"

[sub_resource type="Resource" id="Resource_p61ap"]
script = ExtResource("9_iusvx")
PreferredDistance = 1.0
RetreatDistance = 0.0
ChaseDistance = 999.0
metadata/_custom_type_script = "uid://c556nbxe4u3h7"

[sub_resource type="Resource" id="Resource_df41j"]
script = ExtResource("10_p61ap")
Rule = 1
metadata/_custom_type_script = "uid://ddqwc7dhlg7n3"

[sub_resource type="Resource" id="Resource_84bhp"]
script = ExtResource("11_df41j")
metadata/_custom_type_script = "uid://b6mw2ys38apry"

[node name="Main Scene" type="Node2D" unique_id=1483603412]
script = ExtResource("1_brv2t")

[node name="Projectile" parent="." unique_id=1105907238 instance=ExtResource("7_jtcbb")]

[node name="BattleHUD" parent="." unique_id=682286073 groups=["HUD"] instance=ExtResource("5_43vid")]
layer = 2

[node name="TileSelector" parent="." unique_id=2025738061 instance=ExtResource("2_8hc5g")]
visible = false
z_index = 1

[node name="Player" parent="." unique_id=1206653042 instance=ExtResource("1_6312j")]
z_index = 20
position = Vector2(-57.99997, 32)
MaxHP = 50
SkillList = Array[Object]([ExtResource("4_84bhp"), SubResource("Resource_x7kll"), SubResource("Resource_3jqmn")])

[node name="TurnManager" type="Node2D" parent="." unique_id=593327911]
script = ExtResource("4_q46b8")

[node name="MapManager" parent="." unique_id=475127524 instance=ExtResource("2_ybdc1")]
tile_map_data = PackedByteArray("AAACAAEAAwAAAAAAAAAAAAMAAwAAAAAAAAD//wIAAwAAAAAAAAD//wMAAwAAAAAAAAAAAAIAAwAAAAAAAAAAAAQAAwAAAAAAAAABAAMAAwAAAAAAAAABAAQAAwAAAAAAAAAAAAEAAwAAAAAAAAABAAIAAwAAAAAAAAACAAMAAwAAAAAAAAADAAQAAwAAAAAAAAAEAAUAAwAAAAAAAAADAAUAAwAAAAAAAAADAAYAAwAAAAAAAAACAAYABAACAAMAAAACAAcABAACAAMAAAABAAcABAABAAMAAAAAAAcABAABAAMAAAD//wYAAwAAAAAAAAD+/wUAAwAAAAAAAAD+/wQAAwAAAAAAAAD+/wMAAwAAAAAAAAD+/wIAAwAAAAAAAAD//wEAAwAAAAAAAAABAAEAAwAAAAAAAAACAAIAAwAAAAAAAAADAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAAFAAUAAwAAAAAAAAACAAUABAADAAMAAAABAAYABAAEAAMAAAAAAAYABAAAAAMAAAD//wUAAwAAAAAAAAD//wQAAwAAAAAAAAAAAAUAAwAAAAAAAAABAAUABAADAAMAAAACAAQAAwAAAAAAAAAAAAAAAwAAAAAAAAD/////AwADAAAAAAD//wAAAwACAAAAAAD+/wAAAwACAAAAAAD+/wEAAwABAAAAAAD+////AwADAAAAAAD9/wAAAwABAAAAAAAEAAMAAwAHAAEAAAADAAIAAQAGAAEAAAAEAAIAAwAEAAEAAAAFAAMAAQAFAAEAAAAFAAQAAwAHAAEAAAAGAAQAAQAGAAEAAAAGAAUAAQAGAAEAAAAFAAIAAQAFAAEAAAAGAAMAAQAFAAEAAAAAAP//AwAEAAAAAAD///7/AwAEAAAAAAAEAAYAAwAAAAIAAAAEAAcAAwAAAAIAAAADAAcAAwAAAAIAAAAFAAYAAwABAAIAAAAFAAcAAwABAAIAAAAFAAgAAwABAAIAAAAEAAgAAwABAAIAAAADAAgAAwADAAIAAAAGAAcAAwADAAIAAAAGAAgAAwADAAIAAAAFAAkAAwAEAAIAAAAEAAkAAwAEAAIAAAAGAAYAAwAEAAIAAAAIAAcAAwAFAAIAAAAHAAYAAwAFAAIAAAAHAAUAAwAFAAIAAAD+/wYABQAGAAAAAAD9/wUABQAGAAAAAAD9/wYABQAHAAAAAAD+/wcABQAHAAAAAAA=")

[node name="LockedAreas" type="Node2D" parent="." unique_id=742438019]
visible = false

[node name="Area2Fog" parent="LockedAreas" unique_id=42898743 instance=ExtResource("6_fiowe")]
z_index = 20
position = Vector2(183, 115)
AreaSize = Vector2(200, 600)
DensityFactor = 5.0
ScaleMin = 1.0
ScaleMax = 2.0

[node name="EnemyGroups" type="Node2D" parent="." unique_id=1240223722]
z_index = 10

[node name="Area1" type="Node2D" parent="EnemyGroups" unique_id=1936110472]
script = ExtResource("6_8hc5g")

[node name="Enemy" parent="EnemyGroups/Area1" unique_id=584458365 instance=ExtResource("3_3ulyp")]
position = Vector2(-37.99997, 47.000004)
MaxHP = 100
AiProfile = SubResource("Resource_p61ap")
TargetingProfile = SubResource("Resource_df41j")
SpeedBonusProfile = SubResource("Resource_84bhp")
